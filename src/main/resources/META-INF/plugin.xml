<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>YapiResultGenerate</id>
    <version>1.1.8</version>
    <depends>com.intellij.modules.java</depends>
    <!-- Product and plugin compatibility requirements.
     Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <idea-version since-build="2024.1.7" />
    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="l1401098954@gmail.com" url="https://github.com/LiuGuanXin/YapiGenerate">åˆ˜å¹¿é‘«</vendor>
    <name>Yapi Generate</name>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
	<description><![CDATA[
	<p><b>ğŸ§© Plugin Description / æ’ä»¶æè¿°ï¼š</b></p>
	<p>This plugin helps developers automatically generate Yapi-compatible JSON structures and documentation based on Java entity classes in IntelliJ IDEA.</p>
	<p>è¯¥æ’ä»¶ç”¨äºåœ¨ IntelliJ IDEA ä¸­æ ¹æ® Java å®ä½“ç±»è‡ªåŠ¨ç”Ÿæˆ Yapi æ¥å£å®šä¹‰çš„ JSON æ•°æ®ä¸æ–‡æ¡£ï¼Œæå‡æ¥å£ç¼–å†™æ•ˆç‡ã€‚</p>

	<p><b>ğŸ“Œ Usage Method 1 / ä½¿ç”¨æ–¹å¼ä¸€ï¼š</b></p>
	<p>In the Controller method area, four buttons will appear:<br>åœ¨ Controller æ–¹æ³•ä¸Šæ–¹ä¼šå‡ºç°å››ä¸ªæŒ‰é’®ï¼š</p>
	<ul>
	  <li><b>Document Generation / æ–‡æ¡£ç”Ÿæˆï¼š</b> Generates Yapi documentation for the current interface (shown in sidebar).</li>
	  <li><b>Document + Mock Data / æ–‡æ¡£ç”Ÿæˆï¼ˆå¸¦ Mock æ•°æ®ï¼‰ï¼š</b> Generates documentation with mock data.</li>
	  <li><b>Create Interface on Yapi / åœ¨ Yapi ä¸Šåˆ›å»ºæ¥å£ï¼š</b> Configure info in <code>Settings â†’ Tools â†’ yapi_setting</code> and create interface.</li>
	  <li><b>Create Interface with Mock Data / åœ¨ Yapi ä¸Šåˆ›å»ºæ¥å£ï¼ˆå¸¦ Mock æ•°æ®ï¼‰ï¼š</b> Same as above, but includes mock data.</li>
	</ul>

	<p><b>ğŸ“Œ Usage Method 2 / ä½¿ç”¨æ–¹å¼äºŒï¼š</b></p>
	<p>Right-click on a Java entity class and select "Yapi è¿”å›ç»“æœç”Ÿæˆ" to generate the JSON structure.<br>åœ¨å®ä½“ç±»ä¸­å³é”®ï¼Œé€‰æ‹© â€œYapi è¿”å›ç»“æœç”Ÿæˆâ€ å¯è‡ªåŠ¨ç”Ÿæˆ Yapi JSON æ•°æ®ç»“æ„ã€‚</p>

	<p><b>âœ¨ Features / åŠŸèƒ½ç‰¹æ€§ï¼š</b></p>
	<ol>
	  <li>Support for object response generation (with/without mock data).<br>æ”¯æŒç”Ÿæˆå¯¹è±¡è¿”å›ç»“æ„ï¼Œå¯é€‰æ˜¯å¦ç”Ÿæˆ Mock æ•°æ®ã€‚</li>
	  <li>Support for list response generation (with/without mock data).<br>æ”¯æŒç”Ÿæˆåˆ—è¡¨è¿”å›ç»“æ„ï¼Œå¯é€‰æ˜¯å¦ç”Ÿæˆ Mock æ•°æ®ã€‚</li>
	  <li>Support for request body JSON generation (with/without mock data).<br>æ”¯æŒç”Ÿæˆè¯·æ±‚ä½“ JSONï¼Œå¯é€‰æ˜¯å¦ç”Ÿæˆ Mock æ•°æ®ã€‚</li>
	</ol>

	<p><b>âš ï¸ Note / æ³¨æ„äº‹é¡¹ï¼š</b></p>
	<ul>
	  <li><b>Path & query parameter descriptions</b> are extracted from <code>@param</code> JavaDoc. Use <code>/** */</code> comments.<br>è·¯å¾„ä¸æ‹¼æ¥å‚æ•°è¯´æ˜è¯»å–è‡ª <code>@param</code> æ³¨é‡Šï¼Œè¯·ä½¿ç”¨ <code>/** */</code> æ³¨é‡Šã€‚</li>
	  <li><b>Object field descriptions</b> are extracted from their annotations.<br>å¯¹è±¡å‚æ•°çš„å­—æ®µæ³¨é‡Šå°†ç”¨äºæ–‡æ¡£ç”Ÿæˆã€‚</li>
	  <li><b>Map-type parameters</b> are not supported.<br>Map ç±»å‹å‚æ•°ä¸æ”¯æŒã€‚</li>
	  <li><b>Duplicate names</b> in group/project/category are not allowed on Yapi.<br>Yapi ä¸å…è®¸ç»„åã€é¡¹ç›®åã€åˆ†ç±»åé‡åã€‚</li>
	  <li><b>Mock generation</b> relies on LLM, configure API Key in settings.<br>Mock æ•°æ®ä¾èµ–å¤§è¯­è¨€æ¨¡å‹ï¼Œéœ€åœ¨è®¾ç½®ä¸­é…ç½® API Keyã€‚</li>
	  <li><b>Extra params</b> for specific paths (e.g., used in interceptors) are supported.<br>æ”¯æŒä¸ºæŒ‡å®šè·¯å¾„æ·»åŠ é¢å¤–å‚æ•°ã€‚</li>
	</ul>

	<p><b>ğŸ“„ Parameter Example / å‚æ•°é…ç½®ç¤ºä¾‹ï¼š</b></p>
	<pre><code>{
	  "pathMatch": "/api/**",
	  "extraParams": [
		{
		  "name": "timestamp",
		  "required": "1",
		  "example": "123",
		  "desc": "æ—¶é—´æˆ³"
		},
		{
		  "name": "nonce",
		  "required": "1",
		  "example": "123",
		  "desc": "éšæœºé•¿æ•´å‹"
		},
		{
		  "name": "signature",
		  "required": "1",
		  "example": "77B27281779BD60CAE952FA1232368D2",
		  "desc": "ç­¾å"
		},
		{
		  "name": "accessToken",
		  "required": "1",
		  "example": "5d622aea8221e150fcede59823e84e10",
		  "desc": "è®¿é—®ä»¤ç‰Œ"
		}
	  ]
	}
	</code></pre>

	<p><b>ğŸ”§ Settings Path / é…ç½®è·¯å¾„ï¼š</b> Settings â†’ Tools â†’ yapi_setting</p>
	]]></description>


    <change-notes><![CDATA[
        <ul>
            <li><b>ç”ŸæˆYapiæ¥å£æŒ‰é’®æ·»åŠ ç¡®è®¤å¼¹çª—ï¼Œé˜²æ­¢è¯¯ç‚¹å‡»</b></li>
            <li><b>ä¿®å¤è¯·æ±‚å‚æ•°å¤šè·¯å¾„è¯»å–å¤±è´¥é—®é¢˜ï¼Œé»˜è®¤å–ç¬¬ä¸€ä¸ªè·¯å¾„</b></li>
        </ul>
    ]]></change-notes>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="YapiShowWindow"
                    secondary="true"
                    anchor="right"
                    icon="AllIcons.Toolwindows.ToolWindowJsonPath"
                    factoryClass="com.plugin.demo.windows.YapiShowWindowFactory"/>
        <!--   é…ç½®ç•Œé¢   -->
        <!-- parentIdé…ç½®ç•Œé¢åœ¨å“ªä¸ªèœå•ä¸‹ï¼ŒinstanceæŒ‡å®šé…ç½®ç•Œé¢çš„ç±»-->
        <applicationConfigurable parentId="tools" instance="com.plugin.demo.setting.CodeChronoSettingsConfigurable"
                                 id="ApiKey.Config"
                                 displayName="yapi_setting"/>

        <codeInsight.codeVisionProvider id="YapiProvider" implementation="com.plugin.demo.codeinsight.YapiProvider"/>

        <codeInsight.codeVisionProvider id="YapiMockProvider" implementation="com.plugin.demo.codeinsight.YapiMockProvider"/>

        <codeInsight.codeVisionProvider id="YapiSendProvider" implementation="com.plugin.demo.codeinsight.YapiSendProvider"/>

        <codeInsight.codeVisionProvider id="YapiSendMockProvider" implementation="com.plugin.demo.codeinsight.YapiSendMockProvider"/>

    </extensions>

    <actions>

        <!-- åˆ›å»ºçˆ¶çº§èœå• -->
        <group id="YapiGenerate.Menu" text="Yapiè¿”å›ç»“æœç”Ÿæˆ" popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <action id="YapiGenerate.Menu.Object"
                    class="com.plugin.demo.action.YapiGenerateAction"
                    text="å¯¹è±¡json">
            </action>
            <action id="YapiGenerate.Menu.List"
                    class="com.plugin.demo.action.YapiGenerateActionList"
                    text="åˆ—è¡¨json">
            </action>
            <action id="YapiGenerate.Menu.ObjectMock"
                    class="com.plugin.demo.action.YapiGenerateActionMock"
                    text="å¯¹è±¡jsonç”Ÿæˆmockæ•°æ®">
            </action>
            <action id="YapiGenerate.Menu.Mock"
                    class="com.plugin.demo.action.YapiGenerateActionListMock"
                    text="åˆ—è¡¨jsonç”Ÿæˆmockæ•°æ®">
            </action>
            <action id="YapiGenerate.Menu.RequestBody"
                    class="com.plugin.demo.action.YapiGenerateActionRequestBody"
                    text="è¯·æ±‚ä½“json">
            </action>
            <action id="YapiGenerate.Menu.RequestBodyMock"
                    class="com.plugin.demo.action.YapiGenerateActionRequestBodyMock"
                    text="è¯·æ±‚ä½“jsonç”Ÿæˆmockæ•°æ®">
            </action>
        </group>
    </actions>
</idea-plugin>
